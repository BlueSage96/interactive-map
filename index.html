<!DOCTYPE html>
<html lang="en">
  <head>
    <link type="text/css" rel="stylesheet" href="./stylesheet.css">
    <script src="script.js"></script>
    <meta charset="utf-8" />
    <title>You Do Not Have the Right to Speak</title>
    <script src='https://api.mapbox.com/mapbox-gl-js/v1.12.0/mapbox-gl.js'></script>
    <link href='https://api.mapbox.com/mapbox-gl-js/v1.12.0/mapbox-gl.css' rel='stylesheet' />
  </head>

  <body>
    <nav>
      <ul>
      <li id="stats"><a href="stats.html">Statistics</a></li>
      <li id="bib"><a href="bib.html">Bibliography</a></li>
      <li id="des"><a href="description.html">Description</a></li>
      <li id="ref"><a href="reflection.html">Reflection</a></li>
    </ul>
    </nav>

    <!-- <img src="images/D4TC-Final-map.png" width="2000" height="1500" -->
    <!-- alt="Police brutality map" id="map"/> -->
      <!-- <span id= "clock" ></span>
      <button onclick="darkMode()" class="darkMode">Toggle light and dark mode</button> -->
      <div id="map" style="width: 900px; height: 900px;"></div>
      <script type="text/javascript">
        mapboxgl.accessToken = 'pk.eyJ1IjoiYnJpdHRwcmljZTk2IiwiYSI6ImNrZ2NrbHlvYTAxM2IzOWxqOGYzMWgyMzcifQ.CXWLjbWbWrf1Te2WclqceQ';
        const map = new mapboxgl.Map({
          container: 'map',
          style: 'mapbox://styles/mapbox/streets-v11', // stylesheet location
          center: [-70.4600575,40.7568057], // starting position [lng, lat]
          zoom: 2.5 // starting zoom
        });

        var geojson = {
          type: 'FeatureCollection',
          features: [{
            type: 'Feature',
            geometry: {
              type: 'Point',
              coordinates: [-77.032, 38.913]
            },
            properties: {
              title: 'Mapbox',
              description: 'Washington, D.C.'
            }
          },
          {
            type: 'Feature',
            geometry: {
              type: 'Point',
              coordinates: [-122.414, 37.776]
            },
            properties: {
              title: 'Mapbox',
              description: 'San Francisco, California'
            }
          }]
        };

        // add markers to map
        geojson.features.forEach(function(marker) {

          // create a HTML element for each feature
          var badge = document.createElement('div');
          badge.className = 'badge-marker';

          // make a marker for each feature and add to the map
          new mapboxgl.Marker(badge)
            .setLngLat(marker.geometry.coordinates)
            .addTo(map);


            new mapboxgl.Marker(badge)
              .setLngLat(marker.geometry.coordinates)
              .setPopup(new mapboxgl.Popup({ offset: 5 }) // add popups
              .setHTML(`
                <div>
                  <p class="tooltip">${marker.properties.description}</p>
                </div>
              `))
              .addTo(map);


            // create a HTML element for each feature
            var victim = document.createElement('div');
            victim.className = 'victim-marker';

            // make a marker for each feature and add to the map
            new mapboxgl.Marker(victim)
              .setLngLat(marker.geometry.coordinates)
              .addTo(map);


            new mapboxgl.Marker(victim)
                .setLngLat(marker.geometry.coordinates)
                .setPopup(new mapboxgl.Popup({ offset: 5 }) // add popups
                .setHTML(`
                <div>
                    <p class="tooltip">${marker.properties.title}</p>
                </div>
                `))
                .addTo(map);


                var protest = document.createElement('div');
                protest.className = 'protest-marker';

                // make a marker for each feature and add to the map
                new mapboxgl.Marker(protest)
                  .setLngLat(marker.geometry.coordinates)
                  .addTo(map);


                  new mapboxgl.Marker(protest)
                    .setLngLat(marker.geometry.coordinates)
                    .setPopup(new mapboxgl.Popup({ offset: 5 }) // add popups
                    .setHTML(`
                      <div>
                        <p class="tooltip">${marker.properties.description}</p>
                      </div>
                    `))
                    .addTo(map);


                  // create a HTML element for each feature
                  var riot = document.createElement('div');
                  riot.className = 'riot-marker';

                  // make a marker for each feature and add to the map
                  new mapboxgl.Marker(riot)
                    .setLngLat(marker.geometry.coordinates)
                    .addTo(map);


                  new mapboxgl.Marker(riot)
                      .setLngLat(marker.geometry.coordinates)
                      .setPopup(new mapboxgl.Popup({ offset: 5 }) // add popups
                      .setHTML(`
                      <div>
                          <p class="tooltip">${marker.properties.title}</p>
                      </div>
                      `))
                      .addTo(map);
        });
      </script>
  </body>
</html>
